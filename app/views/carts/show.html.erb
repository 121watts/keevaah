<div class="page-border">
  <div class="container" style="width: 100%">
    <h2>My Cart</h2>
    <table class="table table-striped">
      <tr>
        <th>Title</th>
        <th>Quantity</th>
        <th>Unit Price</th>
        <th>Subtotal</th>
        <th>Remove?</th>
      </tr>
      <% @items.each do |item| %>
        <tr>
          <td><%= item.title %></td>
          <td class="quantity">
            <div style="display: inline;">
              <%= form_for(:cart, url: cart_path, method: :patch, html: { class: 'decrement' }) do |f| %>
                <%= f.hidden_field :item_id, value: item.id %>
                <%= f.hidden_field :quantity, value: -1 %>
                <%= f.submit '-', class: "btn btn-default" %>
              <% end %>
          
              <%= item_quantity(item.id) %>
          
              <%= form_for(:cart, url: cart_path, method: :patch, html: { class: 'increment' }) do |f| %>
                <%= f.hidden_field :item_id, value: item.id %>
                <%= f.hidden_field :quantity, value: 1 %>
                <%= f.submit '+', class: "btn btn-default" %>
              <% end %>
            </div>
          </td>
          <td><%= item.unit_price %></td>
          <td><%= item_subtotal(item.id, item.price) %></td>
          <td>
            <%= form_for(:cart, url: cart_path, method: :delete) do |f| %>
              <%= f.hidden_field :item_id, value: item.id %>
              <%= f.submit "Remove", class: "btn btn-danger" %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </table>
    <%= link_to "Checkout", new_order_path, class: 'btn btn-success center' %>
  </div>
</div>
